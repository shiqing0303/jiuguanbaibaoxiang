<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>我的百宝箱 - 智能收纳</title>
    
    <!-- 使用国内的 Tailwind CDN -->
    <script src="https://unpkg.com/tailwindcss@^3/dist/tailwind.min.js"></script>
    
    <style>
      /* 内联字体定义，避免外部请求 */
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+1F00-1FFF;
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+0370-03FF;
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5n-wU.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
      
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        background-color: #f3f4f6;
        margin: 0;
        padding: 0;
      }
      
      /* Custom Scrollbar for categorization list */
      .hide-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      
      /* 加载动画 */
      .loader {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #4f46e5;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>

    <!-- 如果 index.css 存在就加载，不存在就忽略 -->
    <link rel="stylesheet" href="./index.css">
    
    <script type="importmap">
      {
        "imports": {
          "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
          "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
          "@google/genai": "https://esm.sh/@google/genai@^1.38.0",
          "react/": "https://esm.sh/react@^19.2.3/",
          "react": "https://esm.sh/react@^19.2.3"
        }
      }
    </script>
    
    <!-- 加载前显示加载提示 -->
    <script>
      // 页面加载时显示加载提示
      document.addEventListener('DOMContentLoaded', function() {
        const root = document.getElementById('root');
        if (root && root.innerHTML === '') {
          root.innerHTML = `
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: #666;">
              <div class="loader"></div>
              <p style="margin-top: 20px; font-weight: 500;">正在加载百宝箱...</p>
            </div>
          `;
        }
        
        // 如果5秒后还在加载，显示提示
        setTimeout(function() {
          if (document.getElementById('root').children.length === 1) {
            const root = document.getElementById('root');
            root.innerHTML += `
              <div style="text-align: center; margin-top: 20px; color: #999; font-size: 14px;">
                <p>加载时间较长，请耐心等待...</p>
                <p style="margin-top: 10px; font-size: 12px;">如果长时间无法加载，请检查网络连接</p>
              </div>
            `;
          }
        }, 5000);
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" crossorigin src="./assets/index-CCp5FB4H.js"></script>
    
    <!-- 备用加载方案 -->
    <script>
      // 如果主JS加载失败，尝试其他CDN
      window.addEventListener('error', function(e) {
        if (e.target.tagName === 'SCRIPT' && e.target.src.includes('index-CCp5FB4H.js')) {
          console.log('主脚本加载失败，尝试备用方案...');
          // 可以在这里添加备用加载逻辑
        }
      }, true);
    </script>
  </body>
</html>
